{% extends "layout.html" %}
{% block content %}
<section class="col">
  <h1>Register with us</h1>
  <div>
    <form method="POST" action="">
      <!-- CSRF token -->
      {{form.hidden_tag()}}
      <fieldset class="form-group">
        <legend class="border-bottom mb4">
          Join today
        </legend>
        <div class="form-group">
          {{form.username.label(class="form-control-label")}}
          <!-- Error handling -->
          {% if form.username.errors %}
            {{form.username(class="form-control form-control-lg is-invalid")}}
            <div class="invalid-feedback">
              {% for error in form.username.errors %}
                <span class="warning">
                  {{error}}
                </span>
              {% endfor %}
            </div>
          {% else %}
            <!-- valid input -->
            {{form.username(class="form-control form-control-lg")}}
          {% endif %}
        </div>
        <div class="form-group">
          {{form.email.label(class="form-control-label")}}
          <!-- Error handling -->
          {% if form.email.errors %}
            {{form.email(class="form-control form-control-lg is-invalid")}}
            <div class="invalid-feedback">
              {% for error in form.email.errors %}
                <span class="warning">
                  {{error}}
                </span>
              {% endfor %}
            </div>
          {% else %}
            <!-- valid input -->
            {{form.email(class="form-control form-control-lg")}}
          {% endif %}
        </div>
        <div class="form-group">
          {{form.password.label(class="form-control-label")}}
          <!-- Error handling -->
          {% if form.password.errors %}
            {{form.password(class="form-control form-control-lg is-invalid")}}
            <div class="invalid-feedback">
              {% for error in form.password.errors %}
                <span class="warning">
                  {{error}}
                </span>
              {% endfor %}
            </div>
          {% else %}
            <!-- valid input -->
            {{form.password(class="form-control form-control-lg")}}
          {% endif %}
        </div>
        <div class="form-group">
          {{form.confirm_password.label(class="form-control-label")}}
          <!-- Error handling -->
          {% if form.confirm_password.errors %}
            {{form.confirm_password(class="form-control form-control-lg is-invalid")}}
            <div class="invalid-feedback">
              {% for error in form.confirm_password.errors %}
                <span class="warning">
                  {{error}}
                </span>
              {% endfor %}
            </div>
          {% else %}
            <!-- valid input -->
            {{form.confirm_password(class="form-control form-control-lg")}}
          {% endif %}
        </div>
      </fieldset>
      <div class="form-group">
        {{form.submit(class="btn btn-outlined")}}
      </div>
    </form>
  </div>
  <div class="border-top pt3">
    <small class="text-muted">
      Already have account?
      <a href="{{url_for('login')}}">Sign in</a>
    </small>
  </div>
</section>
{% endblock content %}
